<!DOCTYPE html>
<html>
  <head>
    <!-- Required meta tags-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <!-- Your app title -->
    <title>My App</title>
    <!-- Path to Framework7 Library CSS-->
    <link rel="stylesheet" href="css/framework7.css">
    <!-- Path to your custom app styles-->
    <link rel="stylesheet" href="css/my-app.css">

    <link rel="stylesheet" href="css/circle_loader.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/ball_spinner.css">  


    <link href='http://fonts.googleapis.com/css?family=Roboto:500,900italic,900,400italic,100,200,700italic,300,700,500italic,100italic,300italic,400' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Raleway:400,200,100,300,500,600,700,800,900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  </head>
  <body>
  <script>
  // This is called with the results from from FB.getLoginStatus().
  function statusChangeCallback(response) {
    console.log('statusChangeCallback');
    console.log(response);
    // The response object is returned with a status field that lets the
    // app know the current login status of the person.
    // Full docs on the response object can be found in the documentation
    // for FB.getLoginStatus().
    if (response.status === 'connected') {
      // Logged into your app and Facebook.
      testAPI();
    } else if (response.status === 'not_authorized') {
      // The person is logged into Facebook, but not your app.
      document.getElementById('status').innerHTML = 'Please log ' +
        'into this app.';
    } else {
      // The person is not logged into Facebook, so we're not sure if
      // they are logged into this app or not.
      document.getElementById('status').innerHTML = 'Please log ' +
        'into Facebook.';
    }
  }

  // This function is called when someone finishes with the Login
  // Button.  See the onlogin handler attached to it in the sample
  // code below.
  function checkLoginState() {
    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
    });
  }

  window.fbAsyncInit = function() {
  FB.init({
    appId      : '{281520535249034}',
    cookie     : true,  // enable cookies to allow the server to access 
                        // the session
    xfbml      : true,  // parse social plugins on this page
    version    : 'v2.1' // use version 2.1
  });

  // Now that we've initialized the JavaScript SDK, we call 
  // FB.getLoginStatus().  This function gets the state of the
  // person visiting this page and can return one of three states to
  // the callback you provide.  They can be:
  //
  // 1. Logged into your app ('connected')
  // 2. Logged into Facebook, but not your app ('not_authorized')
  // 3. Not logged into Facebook and can't tell if they are logged into
  //    your app or not.
  //
  // These three cases are handled in the callback function.

  FB.getLoginStatus(function(response) {
    statusChangeCallback(response);
  });

  };

  // Load the SDK asynchronously
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));

  // Here we run a very simple test of the Graph API after login is
  // successful.  See statusChangeCallback() for when this call is made.
  function testAPI() {
    console.log('Welcome!  Fetching your information.... ');
    FB.api('/me', function(response) {
      console.log('Successful login for: ' + response.name);
      document.getElementById('status').innerHTML =
        'Thanks for logging in, ' + response.name + '!';
    });
  }
</script>



    <!-- Status bar overlay for full screen mode (PhoneGap) -->
    <div class="statusbar-overlay"></div>
    <!-- Views -->
    <div class="views">
    <!-- Your main view, should have "view-main" class -->
    <div class="view view-main">
        <video id="video_chat" autoplay="autoplay" src=""></video>
        <!-- Pages --> 
        <div class="pages">
        <div class="main_wall"></div>
         <!-- Login Page -->
          <div class="page no-toolbar login" data-page="login">
            <div class="page-content">

              <div id="spinner" class="bottom">
                  <span id="ball_1" class="spinner_ball"></span>
                  <span id="ball_2" class="spinner_ball"></span>
                  <span id="ball_3" class="spinner_ball"></span>
              </div>

              <div class="content-block animated" id="login_cont" 
                style="opacity:0;margin-top:50%;">
                <img src="img/Sears_logo_2010.svg"
                  style="width:200px;
                  margin:15px 10px;
                  animation-delay: 1s;"
                />
                <div class="row" style="margin-top:50px;">

                  <fb:login-button scope="public_profile,email" onlogin="checkLoginState();">
                  </fb:login-button>
                  <div id="status">
                  </div>

                </div>
                <div class="row" style="
                  margin-top:20px;
                  color: #25448B;
                  border-color: #25448B">
                  <a href="#index" class="button button-big col-100">Login With Email</a>
                </div>
              </div>

            </div>
          </div>

          <!-- Home page -->
          <div class="page cached" data-page="index">
            <div class="page-content" id="main_content">
              <div id="spinner" class="">
                  <span id="ball_1" class="spinner_ball"></span>
                  <span id="ball_2" class="spinner_ball"></span>
                  <span id="ball_3" class="spinner_ball"></span>
              </div>

            </div>
          </div>
              <!-- Slider -->
              <script id="itemPreviewTemplate" type="text/template7">
              <div class="content-block">
                <div class="row">
                  <div class="col-60 list_title">{{this.keyword}}</div>
                  <div class="col-40"><a href="#" class="button button-fill color-red">View All</a></div>
                </div>
              </div>
              <div class="slider-container {{this.keyword}}">
                <div class="slider-wrapper" id="preview_container">
                  {{#each this.Products}}
                    <div class="slider-slide item_select" data-item-index="{{@index}}">
                      <div class="item_rating">
                        <i class="ion-ios-star-outline"></i>
                        <i class="ion-ios-star-outline"></i>
                        <i class="ion-ios-star-outline"></i>
                        <i class="ion-ios-star-outline"></i>
                        <i class="ion-ios-star-outline"></i>
                      </div>
                      <div class="background" style="background-image: url('{{Description.ImageURL}}');">
                        <div class="item_title">{{Description.Name}}</div>
                        <div class="bg_filter"></div>
                      </div>
                      <div class="bottom_bar">
                        <i class="ion-ios-cart">
                          Buy
                        </i>
                        <i class="" >
                          <span class="smalls">$</span>{{dollars}}<span class="smalls">{{cents}}</span>
                        </i>
                        <i class="ion-android-share-alt"> Share</i>
                      </div>
                    </div>
                  {{/each}}
                </div>
              </div>
              </script>
              <script id="itemListTemplate" type="text/template7">
              <div class="content-block-title">{{keyword}}</div>
              <div class="list-block media-list">
                <ul>
                  {{#each this.Products}}
                  <li class="item-link item-content item_select" data-item-index="{{@index}}">
                    <div class="background" style="background-image: url('{{Description.ImageURL}}');"></div>
                    <div class="item-media">
                      <img src="{{Description.ImageURL}}">
                    </div>
                    <div class="item-inner">
                      <div class="item-title-row">
                        <div class="item_title">{{Description.Name}}</div>
                      </div>
                      <div class="item_price">
                        <span class="smalls">$</span>{{dollars}}<span class="smalls">{{cents}}</span>
                      </div>
                    </div>
                  </li>
                  {{/each}}
                </ul>
              </div>
              </script>
    
          <!-- About page -->
          <div class="page cached" data-page="detail">
            <div class="page-content">
              <p>About page</p>
            </div>
          </div>
 
          <!-- Services page -->
          <div class="page cached" data-page="searh">
            <div class="page-content">
              <p>Services page</p>
            </div>
          </div>

          <!-- Services page -->
          <div class="page cached" data-page="cart">
            <div class="page-content">
              <p>Services page</p>
            </div>
          </div>

        </div>



        <!-- Bottom Toolbar-->
        <div class="toolbar">
          <div class="toolbar-inner">
            <!-- Toolbar links -->
            <a href="#" class="link">Link 1</a>
            <a href="#" class="link" id="create_cart">Cart()</a>
          </div>
        </div>

    </div><!--end of view-main-->
    </div><!--end of views--> 
    <script type="text/javascript">
    //get appropraiate permissions
    window.getUserMedia = ( navigator.getUserMedia ||
                       navigator.webkitGetUserMedia ||
                       navigator.mozGetUserMedia ||
                       navigator.msGetUserMedia);
    </script>
    <script src="//cdn.jsdelivr.net/velocity/1.2.1/velocity.min.js"></script>
    <script src="//cdn.jsdelivr.net/velocity/1.2.1/velocity.ui.min.js"></script>

    <script type="text/javascript" src="//cdn.temasys.com.sg/adapterjs/0.10.x/adapter.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
    <script type="text/javascript" src="http://cdn.peerjs.com/0.3/peer.js"></script>
    <!-- cdn underscore js -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js"></script>
    <!-- Path to Framework7 Library JS-->
    <script type="text/javascript" src="js/framework7.min.js"></script>
    <!-- Path to your app js-->
    <script type="text/javascript" src="js/my-app.js"></script>
  </body>
</html> 